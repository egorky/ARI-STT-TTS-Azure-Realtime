# Asterisk ARI Configuration
ARI_URL=http://127.0.0.1:8088
ARI_USERNAME=asterisk
ARI_PASSWORD=asterisk
ARI_APP_NAME=speech-to-text-app

# Azure Speech Service Configuration
AZURE_SPEECH_SUBSCRIPTION_KEY=YOUR_AZURE_SPEECH_KEY
AZURE_SPEECH_REGION=YOUR_AZURE_SPEECH_REGION

# Azure Text-to-Speech (TTS) Configuration
AZURE_TTS_LANGUAGE=es-ES
AZURE_TTS_VOICE_NAME=es-ES-ElviraNeural
# Supported formats for Asterisk playback: Riff8Khz16BitMonoPcm, Riff16Khz16BitMonoPcm
AZURE_TTS_OUTPUT_FORMAT=Riff8Khz16BitMonoPcm

# Azure Speech-to-Text (STT) Configuration
AZURE_STT_LANGUAGE=es-ES

# Application Behavior Configuration
# VAD (Voice Activity Detection) / Talk Detection Settings
# VAD_ACTIVATION_MODE: When to enable talk detection.
#   - 'after_prompt_start': Enable after the first TTS chunk starts playing.
#   - 'after_prompt_end': Enable after the entire TTS prompt has finished playing.
VAD_ACTIVATION_MODE=after_prompt_start
# Delay in milliseconds to wait before enabling talk detection in 'after_prompt_start' mode.
VAD_ACTIVATION_DELAY_MS=500

# Asterisk Talk Detection Settings (values for func_talkdetect.conf)
# The amount of silence (in ms) to detect after speech.
TALK_DETECT_SILENCE_THRESHOLD=1200
# The minimum duration of speech (in ms) to be considered a valid detection.
TALK_DETECT_SPEECH_THRESHOLD=500

# --- Timeouts ---
# Maximum total time for the ARI session in milliseconds. 0 to disable.
ARI_SESSION_TIMEOUT_MS=60000
# Maximum time in milliseconds to wait for the user to start speaking after the prompt. 0 to disable.
NO_INPUT_TIMEOUT_MS=10000

# --- RTP Audio Buffering ---
# Number of audio packets to store in the pre-buffer to catch the start of speech.
# 100 packets * 20ms/packet = 2 seconds of audio. Adjust as needed.
RTP_PREBUFFER_SIZE=100

# External Media Server Configuration (where this app's RTP server will listen)
# This should be the IP address of the machine running this Node.js application,
# accessible from the Asterisk server.
EXTERNAL_MEDIA_SERVER_IP=127.0.0.1
# The starting port for the RTP server. A free port will be found starting from here.
EXTERNAL_MEDIA_SERVER_PORT=16000
# Audio format to request from Asterisk for the external media stream.
# Options: ulaw, alaw, slin, slin16, etc. 'ulaw' is common.
EXTERNAL_MEDIA_AUDIO_FORMAT=ulaw
